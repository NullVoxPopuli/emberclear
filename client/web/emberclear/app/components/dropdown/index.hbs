{{#if this.isOpen}}
  <KeyboardPress @key='Escape' @onDown={{this.toggleMenu}} />
{{/if}}

<div
  data-test-dropdown
  class='
    dropdown
    {{if (eq @dir 'up') 'dropdown-top'}}
    {{if (eq @dir 'left') 'dropdown-left'}}
    {{if this.isOpen 'active'}}
  '
>
  <button
    type='button'
    class='dropdown-trigger'
    {{on 'click' this.toggleMenu}}
    ...attributes
  >
    {{#if this.hasButtonText}}
      {{@buttonText}}
    {{/if}}

    {{#if this.hasButtonIcon}}
      <FaIcon @icon={{@buttonIcon}} />
    {{/if}}
  </button>


  {{#if this.isOpen}}
    <div
      class='no-select full-overlay invisible'
      role='button'
      aria-label={{t 'buttons.ariaLabel.dropdownBackdrop'}}
      {{on 'click' this.toggleMenu}}
    />
  {{/if}}

  <div class='dropdown-menu'>
    {{yield this.closeMenu}}
  </div>
</div>

