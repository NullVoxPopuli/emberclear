<div class='top-nav {{if this.isInverted 'is-inverted'}}'>

  <div class='left-nav'>
    {{#if this.isLoggedIn}}
      <div class='hide-xs-up'>
        <HamburgerButton
          @class='flex'
          @onClick={{this.sidebar.toggle}}
          @isActive={{this.sidebar.isShown}}
        />

        {{#if this.hasUnread}}
          <span
            data-test-unread-count
            class='badge badge-warning'
            style='left: 2rem; bottom: 0.5rem;'
          >
            {{this.unreadMessageCount}}
          </span>
        {{/if}}
      </div>
    {{/if}}

    {{#link-to
      'application'
      class=(concat 'left hide-xs-down ' (if this.isChat this.textColor))
    }}
      {{t 'appname'}}
    {{/link-to}}


    {{#if this.isLoggedIn}}
      <CurrentChatName as |isVisible name record|>
        {{#if isVisible}}
          <span class='chat-name'>
            {{name}}
          </span>
          {{#if (is-contact record)}}
            <StatusIcon @contact={{record}} />
          {{/if}}
        {{/if}}
      </CurrentChatName>
    {{/if}}
  </div>


  <div class='right-nav'>
    {{#if (not this.isLoggedIn)}}
      <a class='hide-sm-up' {{on 'click' (prevent-default (transition-to 'login'))}}>
        {{t 'routes.login'}}
      </a>
    {{/if}}

    <Pod::Application::TopNav::Install />
    <Pod::Application::TopNav::LocaleSelect />

    {{#if this.isLoggedIn}}
      <a class='hide-xs-down' {{action (transition-to 'chat')}}>
        {{t 'routes.chat'}}
      </a>

      <Pod::Application::TopNav::UserDropMenu class='hide-xs-down' />
    {{else}}
      <a class='hide-xs-down' {{action (transition-to 'login')}}>
        {{t 'routes.login'}}
      </a>

      <a class='hide-xs-down' {{action (transition-to 'setup')}}>
        {{t 'routes.createNewUser'}}
      </a>
    {{/if}}
  </div>
</div>
