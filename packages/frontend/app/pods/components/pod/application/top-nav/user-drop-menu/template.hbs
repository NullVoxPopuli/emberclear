{{#if this.showDropdown}}
  <KeyboardPress @key='Escape' @onDown={{this.toggleMenu}} />
{{/if}}

<div class='dropdown dropdown-left {{if this.showDropdown 'active'}}' ...attributes>
  <a
    data-test-user-dropdown-toggle
    class='dropdown-trigger'
    {{on 'click' this.toggleMenu}}
  >
    {{fa-icon 'user-circle' prefix='fas'}}
    <span>{{this.name}}</span>
  </a>

  <div data-test-user-dropdown class='dropdown-menu'>
    <a {{on 'click' (queue this.closeMenu (transition-to 'contacts'))}}>
      {{fa-icon 'address-book' prefix='fas'}}
      <span>{{t 'routes.contacts'}}</span>
    </a>

    <a {{on 'click' (queue this.closeMenu (transition-to 'settings'))}}>
      {{fa-icon 'sliders-h' prefix='fas'}}
      <span>{{t 'routes.settings'}}</span>
    </a>

    <hr class='navbar-divider'>

    <a
      data-test-logout
      {{on 'click' (queue this.closeMenu (transition-to 'logout'))}}
    >
      {{fa-icon 'sign-out-alt' prefix='fas'}}
      <span>{{t 'routes.logout'}}</span>
    </a>
  </div>

  <Backdrop
    @isActive={{this.showDropdown}}
    @onClick={{action this.closeMenu}}
    @isInvisible={{this.showDropdown}}
    style='z-index: 30;'
  />
</div>
