<div data-test-confirmations class='confirmations' {{did-insert (perform this.waitForConfirmation)}}>

  {{#if this.wasSent}}
    {{#if this.hasDeliveryConfirmations}}

      {{fa-icon 'check' size='sm' aria-label='message delivered successfully'}}

    {{else if this.timedOut}}

      <div class='has-hover-tip'>
        {{#if this.deleteMessage.isIdle}}
          <a
            {{action (perform this.deleteMessage)}}
            data-test-delete
          >
            {{t 'buttons.delete'}}
          </a>
        {{/if}}
        |
        {{#if this.resend.isIdle}}
          <a
            {{on 'click' (action (perform this.resend))}}
            data-test-resend
          >
            {{t 'buttons.resend'}}
          </a>
        {{/if}}
        |
        {{#if this.resendAutomatically.isIdle}}
          {{#if @message.queueForResend}}
            {{t 'models.message.autosendPending'}}
          {{else}}
            <a
              {{action (perform this.resendAutomatically)}}
              data-test-autosend
            >
              {{t 'buttons.resendAutomatically'}}
            </a>
          {{/if}}
        {{/if}}

        {{fa-icon 'exclamation-circle'}}

        <HoverTip @class='w-left-200'>
          {{t 'status.deliveryFailed'}}
        </HoverTip>
      </div>

    {{else}}

      <EllipsisLoader />

    {{/if}}
  {{/if}}

</div>
