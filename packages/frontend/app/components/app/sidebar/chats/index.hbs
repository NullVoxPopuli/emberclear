<nav class='contacts' style='height: 100%; overflow-y: hidden;' data-test-contacts-list>
  {{#if this.contactManager.isImporting}}
    <EllipsisLoader />
  {{else}}
    <input
      class='input mar-b-sm'
      type='text'
      placeholder={{t 'ui.sidebar.find'}}
      value={{this.searchText}}
      {{on 'input' this.handleSearch}}
    >

    {{#each this.chats as |chat|}}
    {{!-- {{#vertical-collection
      this.chats
      estimateHeight=40 staticHeight=true bufferSize=5
      as |chat|
    }} --}}
      {{#if (eq chat 'add-contact')}}
        <div data-test-sidebar-contacts-header class='menu-label'>
          {{t 'ui.sidebar.contacts.title'}}

          <a
            data-test-add-friend
            class='button button-xs'
            href={{url-for 'add-friend'}}
            {{on 'click' (prevent-default this.onClickAddFriend)}}
          >
            <span class='icon'>{{fa-icon 'plus'}}</span>
          </a>
        </div>
      {{else if (or (is-contact chat) (is-current-user chat))}}
        <App::Sidebar::Chats::Contact @contact={{chat}} />
      {{else if (is-channel chat)}}
        <App::Sidebar::Chats::Channel @channel={{chat}} />
      {{/if}}
    {{!-- {{/vertical-collection}} --}}
    {{/each}}
  {{/if}}

  {{#if this.showOfflineCounter}}
    <em data-test-offline-count class='offline'>
      <small>{{t 'ui.sidebar.contacts.numOffline' num=this.numberOffline}}</small>
    </em>
  {{/if}}
</nav>


