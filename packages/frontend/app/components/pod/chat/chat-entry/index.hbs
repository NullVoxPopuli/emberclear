<div class='chat-entry-container' ...attributes>
  <div class='control'>
    <Pod::Chat::ChatEntry::EmbedsMenu @sendTo={{@to}} />
  </div>

  <form
    data-test-chat-entry-form
    class='chat-entry'
    {{on 'submit' (prevent-default this.sendMessage)}}
  >

    <Field @label={{this.placeholder}} @hidden={{true}} as |id|>
      {{!-- TODO: extract to a resizable textarea component --}}
      <textarea
        {{did-insert this.onInsertTextArea}}
        {{did-update this.resize this.text}}
        {{did-update this.focus @to}}
        autofocus
        rows='1'
        data-test-chat-entry
        id={{id}}
        disabled={{this.isDisabled}}
        class='transition-all-fast'
        value={{this.text}}
        placeholder={{this.placeholder}}
        {{on 'input' this.onInput}}
        {{on 'keypress' this.onKeyPress}}
      />
    </Field>

    <input
      data-test-chat-submit
      disabled={{this.isSubmitDisabled}}
      class='button flex-grow'
      role='button'
      type='submit'
      value='Send'
    >
  </form>
</div>
